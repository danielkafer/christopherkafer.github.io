<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funny Alchemy - Infinite Craft</title>
<style>
    :root {
        --bg: #1a1a1a;
        --sidebar: #252525;
        --text: #ffffff;
        --accent: #4a90e2;
    }

    body {
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--bg);
        color: var(--text);
        display: flex;
        height: 100vh;
        overflow: hidden;
        user-select: none;
    }

    /* --- Updated Sidebar Layout --- */
    #sidebar {
        width: 300px;
        background-color: var(--sidebar);
        border-right: 1px solid #333;
        display: flex;
        flex-direction: column; /* Stacks children vertically */
        height: 100vh;
        box-sizing: border-box;
    }

    /* Top Section: Draggable Elements */
    .sidebar-header {
        flex: 1; /* Takes up all available middle space */
        overflow-y: auto; /* Scroll only this part when you have many elements */
        padding: 20px;
    }

    /* Bottom Section: Recipes and Controls */
    .sidebar-footer {
        padding: 15px 20px;
        background: #1e1e1e; /* Slightly darker to distinguish */
        border-top: 2px solid #333;
    }

    .element-list {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    /* Recipe Log Styling */
    #recipe-log {
        font-size: 0.8rem;
        color: #888;
        max-height: 150px; /* Keeps log from taking over the screen */
        overflow-y: auto;
        margin: 10px 0;
        background: rgba(0,0,0,0.2);
        padding: 8px;
        border-radius: 4px;
    }

    /* --- Buttons & UI --- */
    .clear-btn {
        width: 100%;
        padding: 8px;
        background: #444;
        color: white;
        border: 1px solid #555;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.2s;
    }

    .clear-btn:hover {
        background: #cc4b4b; /* Turns red when hovering to indicate clear */
    }

    /* --- Game Canvas Styling --- */
    #canvas {
        flex-grow: 1;
        position: relative;
        overflow: hidden;
        background-image: radial-gradient(#333 1px, transparent 1px);
        background-size: 40px 40px;
    }

    /* Element Styling */
    .element {
        padding: 8px 12px;
        background: #333;
        border: 1px solid #555;
        border-radius: 8px;
        cursor: grab;
        display: inline-block;
        white-space: nowrap;
        font-size: 0.9rem;
    }

    .element:active { cursor: grabbing; }
    
    .canvas-element {
        position: absolute;
        z-index: 10;
        box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }

    .discovered {
        background: linear-gradient(145deg, #3a3a3a, #222);
        animation: pop 0.3s ease-out;
    }

    @keyframes pop {
        0% { transform: scale(0.8); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
    }

    h2, h3 { margin: 0 0 15px 0; font-size: 1.1rem; color: var(--accent); }
    h3 { font-size: 0.9rem; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; }
</style>
</head>
<body>

<div id="sidebar">
    <div class="sidebar-header">
        <h2>Inventory</h2>
        <div id="element-palette" class="element-list">
<div class="element" draggable="true" data-name="Water" ondragstart="drag(event)">ğŸ’§ Water</div>
<div class="element" draggable="true" data-name="Fire"  ondragstart="drag(event)">ğŸ”¥ Fire</div>
<div class="element" draggable="true" data-name="Wind"  ondragstart="drag(event)">ğŸŒ¬ï¸ Wind</div>
<div class="element" draggable="true" data-name="Earth" ondragstart="drag(event)">ğŸŒ± Earth</div>
        </div>
    </div>

    <div class="sidebar-footer">
        <button onclick="clearCanvas()" class="clear-btn">ğŸ§¹ Clear Canvas</button>
    </div>
</div>

<div id="canvas" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

<script>
/* --- Basic drag & drop (no crafting yet) --- */
function allowDrop(ev) {
    ev.preventDefault();
}


function clearCanvas() {
    document.getElementById("canvas").innerHTML = "";
}
    // The "Alchemy" Recipes
    const recipes = {
"Water+Water": "ğŸ’¦Water drop",
"ğŸ’¦Water drop+ğŸ’¦Water drop": "ğŸ’§Puddle",
"ğŸ’§Puddle+ğŸ’§Puddle": "ğŸŒŠPond",
"ğŸŒŠPond+ğŸŒŠPond": "ğŸŒŠLake",
"ğŸŒŠLake+ğŸŒŠLake": "ğŸŒŠSea",
"ğŸŒŠSea+ğŸŒŠSea": "ğŸŒŠOcean",
"ğŸŒŠOcean+ğŸŒŠOcean": "ğŸŒŠWater world",
"ğŸŒŠWater world+ğŸŒŠWater world": "ğŸŒŠCaseoh water",
"Water+Wind": "ğŸŒŠWave",
"ğŸŒŠWave+ğŸŒŠWave": "ğŸŒŠBig wave",
"ğŸŒŠBig wave+ğŸŒŠBig wave": "ğŸŒŠTsunami",
"ğŸŒŠTsunami+ğŸŒŠTsunami": "ğŸŒŠGiant tsunami",

"Water+Fire": "ğŸ’¨Steam",
"ğŸ’¨Steam+ğŸ’¨Steam": "â˜ï¸Cloud",
"â˜ï¸Cloud+â˜ï¸Cloud": "â˜ï¸â˜ï¸â˜ï¸Cloud range",
"â˜ï¸Cloud+Water": "ğŸŒ§ï¸Rain",
"ğŸŒ§ï¸Rain+Wind": "â›ˆï¸Storm",
"ğŸŒ§ï¸Rain+âš¡Lightning": "â›ˆï¸Storm",

"Wind+Wind": "ğŸƒHeavy wind",
"ğŸƒHeavy wind+ğŸƒHeavy wind": "ğŸŒªï¸Tornado",
"ğŸƒHeavy wind+â›ˆï¸Storm": "ğŸŒªï¸Tornado",
"Wind+â›ˆï¸Storm": "ğŸŒªï¸Tornado",
"ğŸŒªï¸Tornado+ğŸŒªï¸Tornado": "ğŸŒ€Hurricane",
"ğŸŒ€Hurricane+ğŸŒ€Hurricane": "ğŸŒ€Typhoon",
"ğŸŒ€Typhoon+ğŸŒ€Typhoon": "ğŸŒ€Super Typhoon",

"â›ˆï¸Storm+ğŸŒªï¸Tornado": "â›ˆï¸Disaster",
"â›ˆï¸Storm+â›ˆï¸Storm": "â›ˆï¸Disaster",
"Water+â›ˆï¸Storm": "ğŸŒŠFlood",
"ğŸŒŠPond+â›ˆï¸Storm": "ğŸŒŠFlood",
"ğŸŒŠTsunami+â›ˆï¸Storm": "ğŸŒŠFlood",
"ğŸŒŠWave+â›ˆï¸Storm": "ğŸŒŠFlood",
"ğŸŒŠGiant tsunami+â›ˆï¸Storm": "ğŸŒŠFlood",

"Fire+Fire": "ğŸ”¥Flame",
"ğŸ”¥Flame+ğŸ”¥Flame": "ğŸ”¥Firestorm",
"ğŸ”¥Firestorm+ğŸ”¥Firestorm": "ğŸ”¥Inferno",
"ğŸ”¥Inferno+ğŸ”¥Inferno": "ğŸ”¥Hellfire",
"ğŸ”¥Hellfire+ğŸ”¥Hellfire": "ğŸ”¥Fire apocalypse",
"Fire+Wind": "ğŸ’¨ğŸš¬Smoke",
"Steam+Wind": "ğŸ’¨ğŸš¬Smoke",

"Earth+Water": "ğŸ’©Mud",
"Earth+Fire": "ğŸŒ†Ruined lands",
"Wind+Earth": "ğŸ’¨Dust",
"ğŸ’¨Dust+ğŸƒHeavy wind": "ğŸ’¨Dust devil",
"ğŸ’¨Dust+ğŸŒªï¸Tornado": "ğŸ’¨Dust devil",
"Earth+Rain": "ğŸŒ´Plant",
"ğŸŒ´Plant+ğŸŒ´Plant": "ğŸŒ´Tree",
"ğŸŒ´Tree+âš¡Lightning": "ğŸªµWood",
"ğŸªµWood+ğŸª¨Stone": "â›ï¸Stone pickaxe",
"â˜ï¸Cloud+Fire": "âš¡Lightning",
"âš¡Lightning+â›ˆï¸Storm": "â›ˆï¸Thunderstorm",
"ğŸªµWood+ğŸªµWood": "ğŸ Wood house",
"ğŸŒ´Plant+â›ï¸Stone pickaxe": "ğŸ‡Food",
"ğŸ‡Food+ğŸ’©Mud": "ğŸ«Chocolate",
"ğŸ‡Food+ğŸª¨Rock": "ğŸ¥šEgg",

"ğŸ’¨Steam+ğŸ’¨ğŸš¬Smoke": "ğŸ’¨Evaporation",
"ğŸª¨Stone+ğŸ’¨Evaporation": "â³Sand",
"ğŸª¨rock+ğŸ’¨Evaporation": "â³Sand",
"â³Sand+Fire": "ğŸ”Glass",
"ğŸ”Glass+â³Sand": "â³Hourglass",
"â³Hourglass+â³Hourglass": "âŒšTime",
"â³Hourglass+â³Sand": "âŒšTime",
"ğŸ¥šEgg+âŒšTime": "ğŸ˜ºSmall animal",
"ğŸ˜ºSmall animal+ğŸ˜ºSmall animal": "ğŸ™‰animal",
"ğŸ™‰animal+ğŸ™‰animal": "ğŸ¦Big animal:,
"âŒšTime+âŒšTime": "ğŸŒ¬ï¸Speed",
"ğŸ™‰animal+ğŸŒ¬ï¸Speed": "ğŸ…Cheetah",
"ğŸ˜ºSmall animal+ğŸŒ¬ï¸Speed": "ğŸˆCat",
"ğŸ¦Big animal+âŒšTime": "ğŸ§ Intelligence",
"ğŸ§ Intelligence+ğŸ¦Big animal": "ğŸ§‘Human",
"ğŸ™‰animal+ğŸ§ Intelligence": "ğŸ§‘Human",
"ğŸ˜ºSmall animal+ğŸ§ Intelligence": "ğŸ§’Kid",
"Earth+Earth": "ğŸª¨Rock",
"ğŸª¨Rock+ğŸª¨Rock": "ğŸª¨Stone",
"â›ï¸Stone pickaxe+ğŸª¨Stone": "ğŸª™Iron ore",
"ğŸ§‘Human+âš™ï¸Metal": "ğŸ¤–Robot",

"ğŸª™Iron ore+Fire": "âš™ï¸Metal",
"âš™ï¸Metal+Fire": "ğŸ¥µHeat",
"âš™ï¸Metal+ğŸª¨Stone": "ğŸ”¨Tool",
"ğŸª¨Stone+ğŸª¨Stone": "ğŸ—»Hill",
"ğŸ—»Hill+ğŸ—»Hill": "â›°ï¸Mountain",
"â›°ï¸Mountain+â›°ï¸Mountain": "â›°ï¸â›°ï¸â›°ï¸â›°ï¸Mountain range",
"â›°ï¸â›°ï¸â›°ï¸â›°ï¸Mountain range+â›°ï¸â›°ï¸â›°ï¸â›°ï¸Mountain range": "ğŸ›–Village",
"ğŸ›–Village+ğŸ›–Village": "ğŸ Town",
"ğŸ Town+ğŸ Town": "ğŸ¢City",
"ğŸ¢City+ğŸ¢City": "ğŸŒ†Country",

"ğŸŒ†Country+ğŸŒ†Country": "ğŸŒAustralia",
"ğŸŒAustralia+ğŸŒAustralia": "ğŸŒEurope",
"ğŸŒEurope+ğŸŒEurope": "â„ï¸Antarctica",
"â„ï¸Antarctica+â„ï¸Antarctica": "ğŸŒSouth America",
"ğŸŒSouth America+ğŸŒSouth America": "ğŸŒNorth america",
"ğŸŒNorth america+ğŸŒNorth america": "ğŸŒAfrica",
"ğŸŒAfrica+ğŸŒAfrica": "ğŸŒAsia",
"ğŸŒ†Country+ğŸ—»Hill": "ğŸŒ†Land",
"Fire+ğŸ’©Mud": "ğŸŒ‹Lava",
"ğŸŒ‹Lava+â›°ï¸Mountain": "ğŸŒ‹Volcano",

"ğŸŒAustralia+ğŸŒEurope": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒAustralia+â„ï¸Antarctica": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒAustralia+ğŸŒSouth America": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒAustralia+ğŸŒNorth america": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒAustralia+ğŸŒAfrica": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒAustralia+ğŸŒAsia": "ğŸŒğŸŒğŸŒContinent",

"ğŸŒEurope+â„ï¸Antarctica": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒEurope+ğŸŒSouth America": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒEurope+ğŸŒNorth america": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒEurope+ğŸŒAfrica": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒEurope+ğŸŒAsia": "ğŸŒğŸŒğŸŒContinent",

"â„ï¸Antarctica+ğŸŒSouth America": "ğŸŒğŸŒğŸŒContinent",
"â„ï¸Antarctica+ğŸŒNorth america": "ğŸŒğŸŒğŸŒContinent",
"â„ï¸Antarctica+ğŸŒAfrica": "ğŸŒğŸŒğŸŒContinent",
"â„ï¸Antarctica+ğŸŒAsia": "ğŸŒğŸŒğŸŒContinent",

"ğŸŒSouth America+ğŸŒNorth america": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒSouth America+ğŸŒAfrica": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒSouth America+ğŸŒAsia": "ğŸŒğŸŒğŸŒContinent",

"ğŸŒNorth america+ğŸŒAfrica": "ğŸŒğŸŒğŸŒContinent",
"ğŸŒNorth america+ğŸŒAsia": "ğŸŒğŸŒğŸŒContinent",

"ğŸŒAfrica+ğŸŒAsia": "ğŸŒğŸŒğŸŒContinent",

"ğŸŒğŸŒğŸŒContinent+ğŸŒğŸŒğŸŒContinent": "ğŸ—ºï¸World",
"ğŸ—ºï¸World+ğŸ—ºï¸World": "ğŸªPluto",
"ğŸªPluto+ğŸªPluto": "ğŸŒ•Moon",
"ğŸŒ•Moon+ğŸŒ•Moon": "ğŸŒ‘Mercury",
"ğŸŒ‘Mercury+ğŸŒ‘Mercury": "ğŸªMars",
"ğŸªMars+ğŸªMars": "ğŸªVenus",
"ğŸªVenus+ğŸªVenus": "ğŸŒPlanet Earth",
"ğŸŒPlanet Earth+ğŸŒPlanet Earth": "ğŸªNeptune",
"ğŸªNeptune+ğŸªNeptune": "ğŸªUranus",
"ğŸªUranus+ğŸªUranus": "ğŸªSaturn",
"ğŸªSaturn+ğŸªSaturn": "ğŸªJupiter",
"ğŸªPluto+ğŸŒ•Moon": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸŒ‘Mercury": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸªMars": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸªVenus": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸŒPlanet Earth": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸªNeptune": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸªUranus": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸªPluto+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸŒ•Moon+ğŸŒ‘Mercury": "â˜€ï¸Solar System",
"ğŸŒ•Moon+ğŸªMars": "â˜€ï¸Solar System",
"ğŸŒ•Moon+ğŸªVenus": "â˜€ï¸Solar System",
"ğŸŒ•Moon+ğŸŒPlanet Earth": "â˜€ï¸Solar System",
"ğŸŒ•Moon+ğŸªNeptune": "â˜€ï¸Solar System",
"ğŸŒ•Moon+ğŸªUranus": "â˜€ï¸Solar System",
"ğŸŒ•Moon+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸŒ•Moon+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸŒ‘Mercury+ğŸªMars": "â˜€ï¸Solar System",
"ğŸŒ‘Mercury+ğŸªVenus": "â˜€ï¸Solar System",
"ğŸŒ‘Mercury+ğŸŒPlanet Earth": "â˜€ï¸Solar System",
"ğŸŒ‘Mercury+ğŸªNeptune": "â˜€ï¸Solar System",
"ğŸŒ‘Mercury+ğŸªUranus": "â˜€ï¸Solar System",
"ğŸŒ‘Mercury+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸŒ‘Mercury+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸªMars+ğŸªVenus": "â˜€ï¸Solar System",
"ğŸªMars+ğŸŒPlanet Earth": "â˜€ï¸Solar System",
"ğŸªMars+ğŸªNeptune": "â˜€ï¸Solar System",
"ğŸªMars+ğŸªUranus": "â˜€ï¸Solar System",
"ğŸªMars+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸªMars+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸªVenus+ğŸŒPlanet Earth": "â˜€ï¸Solar System",
"ğŸªVenus+ğŸªNeptune": "â˜€ï¸Solar System",
"ğŸªVenus+ğŸªUranus": "â˜€ï¸Solar System",
"ğŸªVenus+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸªVenus+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸŒPlanet Earth+ğŸªNeptune": "â˜€ï¸Solar System",
"ğŸŒPlanet Earth+ğŸªUranus": "â˜€ï¸Solar System",
"ğŸŒPlanet Earth+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸŒPlanet Earth+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸªNeptune+ğŸªUranus": "â˜€ï¸Solar System",
"ğŸªNeptune+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸªNeptune+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸªUranus+ğŸªSaturn": "â˜€ï¸Solar System",
"ğŸªUranus+ğŸªJupiter": "â˜€ï¸Solar System",

"ğŸªSaturn+ğŸªJupiter": "â˜€ï¸Solar System",
"â˜€ï¸Solar System+Fire": "â˜€ï¸Sun"
};

    let discovered = new Set(["Water", "Fire", "Wind", "Earth"]);


function drag(ev) {
    ev.dataTransfer.setData("name", ev.target.dataset.name);
    if (ev.target.id) {
        ev.dataTransfer.setData("sourceId", ev.target.id);
    }
}

    function drop(ev) {
        ev.preventDefault();
        const name = ev.dataTransfer.getData("name");
        const sourceId = ev.dataTransfer.getData("sourceId");
        
        const rect = document.getElementById('canvas').getBoundingClientRect();
        const x = ev.clientX - rect.left;
        const y = ev.clientY - rect.top;

        // Check if dropped on another element
        const targetElement = document.elementFromPoint(ev.clientX, ev.clientY);
        const dropZoneElement = targetElement.closest('.canvas-element');

        if (dropZoneElement && dropZoneElement.id !== sourceId) {
            combine(name, dropZoneElement.dataset.name, dropZoneElement);
            // Remove the dragged element if it was already on the canvas
            if (sourceId) document.getElementById(sourceId).remove();
        } else {
            // Move or Create new element on canvas
            if (sourceId) {
                const el = document.getElementById(sourceId);
                el.style.left = (x - 20) + 'px';
                el.style.top = (y - 20) + 'px';
            } else {
                createElementOnCanvas(name, x, y);
            }
        }
    }

function createElementOnCanvas(name, x, y) {
    const el = document.createElement("div");
    el.className = "element canvas-element discovered";
    el.dataset.name = name;
    el.innerText = name;
    el.id = "el-" + crypto.randomUUID();
    el.draggable = true;
    el.ondragstart = drag;
    el.style.left = (x - 20) + "px";
    el.style.top = (y - 20) + "px";
    document.getElementById("canvas").appendChild(el);
}


function combine(a, b, targetNode) {
    const result = recipes[`${a}+${b}`] || recipes[`${b}+${a}`];
    if (!result) return;

    const canvas = document.getElementById("canvas");
    const rect = targetNode.getBoundingClientRect();
    const canvasRect = canvas.getBoundingClientRect();

    targetNode.remove();
    createElementOnCanvas(
        result,
        rect.left - canvasRect.left,
        rect.top - canvasRect.top
    );

    if (!discovered.has(result)) {
        discovered.add(result);
        addToSidebar(result);
    }
}

function addToSidebar(name) {
    const el = document.createElement("div");
    el.className = "element";
    el.dataset.name = name;
    el.innerText = name;
    el.draggable = true;
    el.ondragstart = drag;
    document.getElementById("element-palette").appendChild(el);
}

</script>

</body>
</html>


